<!DOCTYPE html>
<html>
<head>
    <title>Pianificatore Aree di Campionamento</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../a/f.gif" type="image/gif"/>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="../a/style.css" />
    <link rel="stylesheet" href="style.css" />

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="../a/map-common.js"></script>
    <script src="app.js"></script>
</head>
<body>
    <div id="details-modal" class="modal-overlay hidden">
        <div class="modal-content modal-wide">
            <a href="#" class="modal-close" id="details-close">&times;</a>
            <h4 id="details-title"></h4>
            <div id="details-body"></div>
        </div>
    </div>
    <div id="map"></div>
    <div id="sidebar">
        <h3><a href="../" class="back-link">‚Üê</a>Pianificatore Aree di Campionamento</h3>
        <div id="status">Caricamento...</div>
        <div id="coords"></div>

        <div class="section">
            <h4>Mappa</h4>
            <div class="button-row">
                <button onclick="SamplingPlanner.setBasemap('osm')">OpenStreetMap</button>
                <button onclick="SamplingPlanner.setBasemap('satellite')">Satellitare</button>
                <button onclick="SamplingPlanner.setBasemap('topo')">Topografica</button>
            </div>
        </div>

        <div class="section">
            <h4>Compresa</h4>
            <select id="compresa-select"></select>
        </div>

        <div class="section">
            <h4>Parametri</h4>
            <label class="help-text">Diametro aree di campionamento (m)</label>
            <input type="number" id="diameter" min="1" step="1" value="12">
            <label class="help-text">Percentuale di copertura (%)</label>
            <input type="number" id="coverage" min="0.01" max="100" step="0.1" value="1">
            <button class="primary" onclick="SamplingPlanner.plan()">Pianifica</button>
        </div>

        <div id="results-section" class="section hidden">
            <h4>Risultati</h4>
            <div id="stats"></div>
            <div class="button-row">
                <button onclick="SamplingPlanner.showDetails()">Dettagli</button>
                <button onclick="SamplingPlanner.exportCSV()">Esporta CSV</button>
            </div>
        </div>
    </div>
</body>
</html>
